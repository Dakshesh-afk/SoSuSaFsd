@using SoSuSaFsd.Components.Common
@using SoSuSaFsd.Components.Pages.HomeComponents

@* HOME MODALS SECTION - All modal dialogs *@

@* REPORT MODAL - Using shared component *@
<ReportModal 
    ShowModal="@State.ShowReportModal"
    OnClose="@(() => State.ResetReportModal())"
    OnSubmit="@OnSubmitReport" />

@* NOTIFICATION MODAL *@
<NotificationModal 
    IsVisible="@State.ShowNotificationModal"
    Message="@State.NotificationMessage"
    Type="@State.NotificationType"
    OnClose="@State.CloseNotification" />

@* CATEGORY SEARCH MODAL *@
<CategorySearchModal 
    IsVisible="@State.ShowCreateConfirm"
    SearchTerm="@State.SearchTerm"
    OnCreate="@OnNavigateToCreate"
    OnCancel="@(() => State.ShowCreateConfirm = false)" />

@* AUTH OVERLAY *@
<AuthOverlay 
    IsVisible="@State.ShowLoginOverlay"
    ErrorMessage="@State.ErrorMessage"
    OnClose="@(() => State.ShowLoginOverlay = false)" />

@code {
    [Parameter] public HomePageState State { get; set; } = default!;
    [Parameter] public EventCallback<(string Reason, string? Details)> OnSubmitReport { get; set; }
    [Parameter] public EventCallback OnNavigateToCreate { get; set; }
}
