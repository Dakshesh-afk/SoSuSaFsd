@using SoSuSaFsd.Components.Common
@using SoSuSaFsd.Components.Pages.HomeComponents

@* HOME MODALS SECTION - All modal dialogs *@

@* REPORT MODAL *@
@if (State.ShowReportModal)
{
    <div class="modal">
        <div class="modal-content">
            <span class="modal-close" @onclick="@(() => State.ShowReportModal = false)">×</span>
            <h2 class="modal-title-error">Report Content</h2>
            <div class="modal-subtitle">Help us keep the community safe. Why are you reporting this post?</div>
            <div class="form-group">
                <label>Reason:</label>
                <select class="form-select" @bind="State.ReportReasonSelection">
                    <option value="Spam">Spam</option>
                    <option value="Harassment">Harassment or Bullying</option>
                    <option value="Misinformation">Misinformation</option>
                    <option value="Hate Speech">Hate Speech</option>
                    <option value="Inappropriate">Inappropriate Content</option>
                    <option value="Other">Other</option>
                </select>
            </div>
            <div class="form-group">
                <label>Additional Details (Optional):</label>
                <textarea class="modal-textarea" placeholder="Please provide more details..." @bind="State.ReportReasonDetails"></textarea>
            </div>
            <div class="modal-actions">
                <button class="login-btn secondary" @onclick="@(() => State.ShowReportModal = false)">Cancel</button>
                <button class="login-btn btn-error" @onclick="OnSubmitReport">Submit Report</button>
            </div>
        </div>
    </div>
}

@* NOTIFICATION MODAL *@
<NotificationModal 
    IsVisible="@State.ShowNotificationModal"
    Message="@State.NotificationMessage"
    Type="@State.NotificationType"
    OnClose="@State.CloseNotification" />

@* CATEGORY SEARCH MODAL *@
<CategorySearchModal 
    IsVisible="@State.ShowCreateConfirm"
    SearchTerm="@State.SearchTerm"
    OnCreate="@OnNavigateToCreate"
    OnCancel="@(() => State.ShowCreateConfirm = false)" />

@* AUTH OVERLAY *@
<AuthOverlay 
    IsVisible="@State.ShowLoginOverlay"
    ErrorMessage="@State.ErrorMessage"
    OnClose="@(() => State.ShowLoginOverlay = false)" />

@code {
    [Parameter] public HomePageState State { get; set; } = default!;
    [Parameter] public EventCallback OnSubmitReport { get; set; }
    [Parameter] public EventCallback OnNavigateToCreate { get; set; }
}
