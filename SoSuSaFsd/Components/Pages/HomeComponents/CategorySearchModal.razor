@* CategorySearchModal - Confirmation modal for creating new categories *@
@if (IsVisible)
{
    <div class="modal" style="display:flex;">
        <div class="modal-content">
            <span class="modal-close" @onclick="HandleCancel">&times;</span>
            <h2>Category Not Found</h2>
            <p>Would you like to create <b>#@SearchTerm</b>?</p>
            <div style="display: flex; gap: 10px; margin-top: 20px;">
                <button class="login-btn" style="flex:1;" @onclick="HandleCreate">Yes, Create</button>
                <button class="login-btn secondary" style="flex:1;" @onclick="HandleCancel">Cancel</button>
            </div>
        </div>
    </div>
}

@code {
    /// <summary>
    /// Controls whether the modal is visible
    /// </summary>
    [Parameter]
    public bool IsVisible { get; set; }

    /// <summary>
    /// The search term that wasn't found
    /// </summary>
    [Parameter]
    public string SearchTerm { get; set; } = string.Empty;

    /// <summary>
    /// Callback invoked when user clicks "Yes, Create"
    /// </summary>
    [Parameter]
    public EventCallback OnCreate { get; set; }

    /// <summary>
    /// Callback invoked when user clicks "Cancel"
    /// </summary>
    [Parameter]
    public EventCallback OnCancel { get; set; }

    private async Task HandleCreate()
    {
        await OnCreate.InvokeAsync();
    }

    private async Task HandleCancel()
    {
        await OnCancel.InvokeAsync();
    }
}
