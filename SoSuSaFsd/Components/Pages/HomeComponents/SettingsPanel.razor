@using SoSuSaFsd.Domain
@using Microsoft.AspNetCore.Components.Forms
@using SoSuSaFsd.Components.Pages.HomeComponents.SettingsPanelComponents

@* SettingsPanel - All settings forms (orchestration only) *@

<EditProfileForm 
    CurrentUser="@CurrentUser"
    StatusMessage="@StatusMessage"
    OnProfileUpdate="@OnProfileUpdate"
    OnImageChange="@OnImageChange" />

<ChangePasswordForm 
    PasswordModel="@PasswordModel"
    PasswordMessage="@PasswordMessage"
    IsPasswordSuccess="@IsPasswordSuccess"
    OnPasswordChange="@OnPasswordChange" />

<RequestAccessForm 
    CurrentUser="@CurrentUser"
    VerifiedCategories="@VerifiedCategories"
    UserAccessRequests="@UserAccessRequests"
    AccessMessage="@AccessMessage"
    IsAccessSuccess="@IsAccessSuccess"
    SelectedCategoryId="@SelectedCategoryId"
    AccessReason="@AccessReason"
    OnAccessRequest="@OnAccessRequest"
    OnSelectedCategoryChanged="@OnSelectedCategoryChanged"
    OnAccessReasonChanged="@OnAccessReasonChanged"
    OnFileSelected="@OnFileSelected" />

@code {
    [Parameter] public Users? CurrentUser { get; set; }
    [Parameter] public List<Categories> VerifiedCategories { get; set; } = new();
    [Parameter] public List<CategoryAccessRequests> UserAccessRequests { get; set; } = new();
    [Parameter] public string StatusMessage { get; set; } = string.Empty;
    [Parameter] public string PasswordMessage { get; set; } = string.Empty;
    [Parameter] public bool IsPasswordSuccess { get; set; }
    [Parameter] public string AccessMessage { get; set; } = string.Empty;
    [Parameter] public bool IsAccessSuccess { get; set; }
    [Parameter] public int SelectedCategoryId { get; set; }
    [Parameter] public string AccessReason { get; set; } = string.Empty;
    [Parameter] public ChangePasswordForm.PasswordChangeModel PasswordModel { get; set; } = new();
    [Parameter] public EventCallback OnProfileUpdate { get; set; }
    [Parameter] public EventCallback OnPasswordChange { get; set; }
    [Parameter] public EventCallback OnAccessRequest { get; set; }
    [Parameter] public EventCallback<InputFileChangeEventArgs> OnImageChange { get; set; }
    [Parameter] public EventCallback<int> OnSelectedCategoryChanged { get; set; }
    [Parameter] public EventCallback<string> OnAccessReasonChanged { get; set; }
    [Parameter] public EventCallback<IBrowserFile> OnFileSelected { get; set; }
}
